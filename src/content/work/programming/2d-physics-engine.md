---
draft: false
order: 40
classification: programming
title: 2D物理エンジンの開発
description: 
  - コーエーテクモ サマーインターンシップ2025にて、2D空間で物体の落下・衝突・反射を再現する物理エンジンを自作しました。
publishDate: 2025-08-01 00:00:00
tags:
  - C++
  - Physics
  - Game Dev
img: /img/2D_physics_engine.png
img_alt: 物理エンジンのプレビュー
subtitle: インターン（個人）での物理エンジン開発
productionDate: 2025-08 ~ 2025-08
role: インターン（個人）での物理エンジン開発
video: /img/2D_physics_engine_3.mp4
techs:
  - C++ (Visual Studio)
---

**課題の概要：**  
*   **テーマ：** 2D空間上で動作する「簡易物理エンジン」を自作し、物体の**重力落下**・**衝突解決**を実装する。
*   **内容：**
    *   コップの中に円・四角形・三角形などの図形をランダムに配置。
    *   重力を考慮して自然に下へ落下し、重なりがなくなるように再配置。
    *   「初期配置リセット」や「コリジョン解決」などのGUI操作に対応。
*   **目的：** 物理的に自然な衝突挙動を再現するアルゴリズムを、自作のC++コードで設計・実装する。
*   **開発条件：**
    *   開発環境：Visual Studio（Windows 10 / 11）
    *   使用言語：C++（外部ライブラリ・生成AIの使用は禁止）
    *   コップ外に図形が出ない・重なりが残らないことを条件とする。

**実装内容：**  
*   **初期配置（ResetObject）**：三角形・円・四角形をコップ内にランダム配置。物体同士の重なり判定と質量算出を実装。
*   **更新処理（UpdateObject）**：重力加速度・壁や床との衝突反射・摩擦減速を毎フレーム計算。
*   **衝突解決（Collision Solver）**：運動量保存と力積の関係式に基づいて速度を更新。反発係数を用いた反射挙動を再現。
*   **物体同士の衝突フロー**：重なり量に応じた押し戻し処理、法線方向の判定、滑り落ちの効果を再現。

**特徴：**  
*   力積・反発係数を明示的に扱うことで物理的に正しい反射挙動を再現
*   摩擦・滑り落ちなどの要素を簡易モデルで実装し、自然な動きを再現
*   三角形や四角形など、形状による接触判定ロジックを個別設計
*   図形間の連続的な衝突処理（逐次解決）により安定した挙動を実現
